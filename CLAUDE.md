# HEIC2JPG


## Conversation Guidelines
- 常に日本語で会話する

---

## Development Status
- プロジェクトの概要は、README.mdを参照すること。
- 必ずよく考えて計画を立ててから作業を行うこと。  
- 計画を変更する場合は、アクションプランのファイルも更新すること。

---

## Basic Rule
- 動作チェックはこちらで行います。あなたは行わないでください。
- Dart ffiについては、下記のドキュメントを参照すること。
	https://dart.dev/interop/c-interop

---

## 段階的実装アプローチ
重要度に応じて3段階で原則を適用（認知負荷を管理）

### 🌟 Phase 1：最重要（絶対守る）
1. **差分表示 → 承認確認 → 実装開始★**  
   - diff表示後は必ず「承認をお待ちします」と明記し、  
   - 「OK」「実装して」「良い」「承認」などの返信をもらってから実装  
2. **実装後のLINT/test実行★**  
   - 品質担保の最低限  
3. **実行スクリプト周囲の完全禁止★**  
   - データ損失防止  
4. **※承認し過ぎを警告する※**

### 💡 Phase 2：重要（意識的に実行）
- **判断理由の共有**  
  - なぜその選択をしたのか3行メモ  
- **既存コードの事前調査**  
  - 実装前に既存コード3–5ファイルを確認し、  
  - 命名規則・アーキテクチャパターン・コードスタイルに合わせる

### 🌀 Phase 3：理想（余裕がある時）
- **トレードオフ・リスクの整理**  
  - 品質・保守性・パフォーマンス・保安性・バグリスクを評価し、許容範囲内で実行  
- **詳細コメント記述**  
  - 単純機能ではなく技術的意図を説明

---

## 🧠 深い思考の自動実行（毎回必須）
回答前に必ず以下を実行：

### #1. 思考トリガー（自問自答）
- 「なぜそこに3回自由か？」（Why-Why-Why分析）  
- 「本当にこれで良いか？」と疑ったか？  
- 「他にもっと良いやり方（の方向性）は？」を考えたか？  
- 「もうひと工夫できないか？」＝承認を得るための工夫

### #2. 多角的検討（3つの視点を必須検討）
1. **品質視点**：例外系、保守性、パフォーマンス、保安性  
2. **利用者視点**：使いやすさ、理解しやすさ、期待との一致  
3. **開発者視点**：読みやすさ、直感性、共通性

### #3. 品質の自己採点（各項目4点以上で合格）
- 品質（5点満点）  
- 保守性（5点満点）  
- 利用者視点（5点満点）  
- 開発者視点（5点満点）

---

## 知見管理システム
\[Claude Codeで効率的に開発するための知見管理\] の提案に従い、以下のファイル／ディレクトリで開発知見を体系管理します。

| ファイル／フォルダ                       | 目的                                                         |
| --------------------------------------- | ------------------------------------------------------------ |
| `.claude/context.md`                    | プロジェクトの背景・目的・制約（本要件定義の要約を格納）     |
| `.claude/project-knowledge.md`          | 実装パターンや設計決定、採用／却下理由の記録                 |
| `.claude/project-improvements.md`       | 試行錯誤・改善履歴と教訓の蓄積                               |
| `.claude/common-patterns.md`            | 頻用コマンドや定型コードスニペット                           |
| `.claude/debug-log.md`                  | 再発可能性の高いバグの詳細ログ                               |
| `.claude/debug/`                        | セッション別ログ・一時ファイル・アーカイブ                   |

> **運用ルール**
> - 重要な設計決定を行ったら該当ファイルを速やかに更新する。  
> - 解決に30分以上費やしたバグは `debug-log.md` に必ず記録。  
> - 月1回 `.claude/` 配下をレビューし、古い・重複情報を整理する。  
